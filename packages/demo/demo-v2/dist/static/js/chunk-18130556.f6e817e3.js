(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18130556"],{"5e86":function(t,e,o){t.exports={viewBox:"ViewComponentWrap_viewBox_1Qq3k",active:"ViewComponentWrap_active_1W9Yg",formProperty:"ViewComponentWrap_formProperty_2ndMJ",editBar:"ViewComponentWrap_editBar_yefYj",toolBarBtn:"ViewComponentWrap_toolBarBtn_3a3d-"}},"5f60":function(t,e,o){"use strict";var i=o("5e86"),n=o.n(i);e["default"]=n.a},e517:function(t,e,o){"use strict";o.r(e);var i=function(){var t,e=this,o=e.$createElement,i=e._self._c||o;return i("div",{class:(t={},t[e.$style.viewBox]=!0,t[e.$style.active]=e.editorItem.isEdit,t.js_viewComponentWrap=!0,t),on:{click:e.handleClickView}},[i("span",{class:e.$style.formProperty},[e._v(" "+e._s(e.attrs.curNodePath))]),e.editorItem.isEdit?i("div",{class:e.$style.editBar},[i("button",{staticClass:"el-icon-caret-top",class:e.$style.toolBarBtn,attrs:{disabled:e.editorItem.toolBar.moveUpDisabled,title:"上移",type:"button"},on:{click:function(t){return e.$emit("onOperate",{item:e.editorItem,command:"moveUp"})}}}),i("button",{staticClass:"el-icon-caret-bottom",class:e.$style.toolBarBtn,attrs:{disabled:e.editorItem.toolBar.moveDownDisabled,title:"下移",type:"button"},on:{click:function(t){return e.$emit("onOperate",{item:e.editorItem,command:"moveDown"})}}}),i("button",{staticClass:"el-icon-copy-document",class:[e.$style.toolBarBtn],attrs:{disabled:e.editorItem.toolBar.copyDisabled,title:"复制",type:"button"},on:{click:function(t){return e.$emit("onOperate",{item:e.editorItem,command:"copy"})}}}),i("button",{staticClass:"el-icon-delete",class:e.$style.toolBarBtn,attrs:{disabled:e.editorItem.toolBar.removeDisabled,title:"移除",type:"button"},on:{click:function(t){return e.$emit("onOperate",{item:e.editorItem,command:"remove"})}}})]):e._e(),i("SchemaField",e._b({},"SchemaField",e.attrs,!1)),e.showNestedEditor(e.editorItem)?i("NestedEditor",{attrs:{"child-component-list":e.editorItem.childList,"drag-options":e.dragOptions,"form-data":e.formData,"form-props":e.formProps}}):e._e()],1)},n=[],r=o("2be67"),a=o("c145"),s=o("655a");function c(t,e,o){this.$children.forEach((function(i){var n=i.$options.name;n===t?i.$emit.apply(i,Object(s["a"])([e].concat(o))):c.apply(i,[t,e].concat([o]))}))}var d={methods:{dispatch:function(t,e,o){var i,n=this.$parent||this.$root,r=n.$options.name;while(n&&(!r||r!==t))n=n.$parent,n&&(r=n.$options.name);n&&(i=n).$emit.apply(i,Object(s["a"])([e].concat(o)))},broadcast:function(t,e,o){c.call(this,t,e,o)}}},l=o("a635"),m=o("4a6f"),p={name:"ViewComponentWrap",components:{SchemaField:a["SchemaField"],NestedEditor:l["a"]},mixins:[d],props:{showNestedEditor:{type:Function,default:function(){}},editorItem:{type:Object,default:function(){return{}}},dragOptions:{type:Object,default:function(){return{}}},formData:{type:Object,default:function(){return{}}},formProps:{type:null,default:null}},computed:{attrs:function(){return Object(r["a"])({formProps:this.formProps},Object(m["c"])(this.editorItem,this.formData))}},beforeDestroy:function(){this.hideEditForm()},methods:{handleClickView:function(t){t.stopPropagation(),this.editorItem.isEdit?this.setCurEditorItem(this.editorItem):this.showEditForm()},showEditForm:function(){var t=this;this.editorItem.isEdit=!0,this.closeHandle=function(e){var o=t.$el,i=t.$el.contains(e.target),n=e.target.closest(".js_viewComponentWrap");(!i&&n||i&&o!==n&&o.contains(n))&&t.hideEditForm()},document.addEventListener("click",this.closeHandle,!0),this.setCurEditorItem(this.editorItem)},hideEditForm:function(){this.editorItem.isEdit=!1,document.removeEventListener("click",this.closeHandle,!0),this.setCurEditorItem(null)},setCurEditorItem:function(t){this.dispatch("Editor","onSetCurEditorItem",{editorItem:t})}}},u=p,f=o("5f60"),h=o("2be6");function b(t){this["$style"]=f["default"].locals||f["default"]}var v=Object(h["a"])(u,i,n,!1,b,null,null);e["default"]=v.exports}}]);