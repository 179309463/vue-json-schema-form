(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57845722"],{"01ef":function(t){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","id":"MultipleImg5","type":"object","definitions":{"ImgItem":{"title":"图片配置","type":"object","properties":{"imgUrl":{"type":"string","format":"uri"},"imgLink":{"type":"string","format":"uri","default":"https://www.jd.com/"}},"required":["imgUrl","imgLink"]}},"properties":{"imgList":{"title":"配置多图模块","description":"图片一行展示，最多配置5张图片","type":"array","minItems":1,"maxItems":5,"ui:options":{"showIndexNumber":true},"items":{"$ref":"#/definitions/ImgItem"}}}}')},"03f4":function(t,e,i){"use strict";var o=i("0895"),n=i.n(o);e["default"]=n.a},"0895":function(t,e,i){t.exports={previewBox:"Editor_previewBox_1MaXo",toolsBar:"Editor_toolsBar_3NE7H",leftCaret:"Editor_leftCaret_2Cjaf",container:"Editor_container_SsKCK",dragAreaWrap:"Editor_dragAreaWrap_1F5_2",contentBox:"Editor_contentBox_3zXZB",hasTools:"Editor_hasTools_3DTi4",contentWrap:"Editor_contentWrap_18lFK",tipBox:"Editor_tipBox_33BHT",dragArea:"Editor_dragArea_1IkTx",ghost:"Editor_ghost_2K5BT"}},"094b":function(t){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","id":"MultipleImg1_3","type":"object","definitions":{"ImgItem":{"type":"object","properties":{"imgUrl":{"type":"string","format":"uri"},"imgLink":{"type":"string","format":"uri","default":"https://www.tmall.com/"}},"required":["imgUrl","imgLink"]}},"properties":{"imgItem1_1":{"$ref":"#/definitions/ImgItem"},"imgItem2_1":{"$ref":"#/definitions/ImgItem"},"imgItem2_2":{"$ref":"#/definitions/ImgItem"},"imgItem2_3":{"$ref":"#/definitions/ImgItem"}}}')},"1e39":function(t,e,i){},"2e8e":function(t){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","id":"CarouselImg","type":"object","properties":{"imgList":{"type":"array","minItems":1,"maxItems":4,"uniqueItems":true,"items":{"type":"object","properties":{"imgUrl":{"type":"string","format":"uri","default":"https://m.360buyimg.com/babel/jfs/t1/116779/33/13215/494116/5f19a54fE4e3bf7cc/8a2a7b0732385d19.jpg.webp"},"imgLink":{"type":"string","format":"uri","default":"https://www.google.com"}},"required":["imgUrl","imgLink"]}}},"additionalProperties":false}')},"585a":function(t){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","id":"Coupon","type":"object","properties":{"show":{"type":"boolean","default":true}},"required":["show"]}')},"5b10":function(t){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","id":"CategoryGoods","type":"object","required":["title"],"definitions":{"ImgItem":{"type":"object","properties":{"imgUrl":{"title":"图片地址","type":"string","format":"uri"},"imgLink":{"title":"链接地址","type":"string","format":"uri","default":"https://www.jd.com"}},"required":["imgUrl","imgLink"]}},"properties":{"title":{"title":"标题","type":"string","maxLength":10},"subTitle":{"title":"副标题","type":"string","maxLength":30},"banner":{"title":"左侧banner配置","type":"object","properties":{"link":{"title":"banner图片和链接配置","$ref":"#/definitions/ImgItem"},"bannerTitle":{"title":"banner主标题","type":"string","maxLength":4},"bannerSubTitle":{"title":"banner副标题","type":"string","maxLength":8}}},"goodsList":{"type":"array","title":"商品信息配置","minItems":4,"maxItems":8,"items":{"title":"配置商品信息","$ref":"#/definitions/ImgItem"}}},"additionalProperties":false}')},"6ab0":function(t){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","id":"FlashSaleGoodsList","type":"object","definitions":{"ImgItem":{"type":"object","properties":{"imgUrl":{"title":"图片地址","type":"string","format":"uri"},"imgLink":{"title":"链接地址","type":"string","format":"uri","default":"https://www.jd.com"}},"required":["imgUrl","imgLink"]}},"properties":{"startTime":{"title":"配置秒杀开始时间","type":"string","format":"date-time"},"seckillBrand":{"$ref":"#/definitions/ImgItem"},"goodsList":{"type":"array","minItems":4,"maxItems":8,"uniqueItems":true,"items":{"$ref":"#/definitions/ImgItem"}}},"required":["startTime"],"additionalProperties":false}')},7833:function(t){t.exports=JSON.parse('{"show":{"ui:options":{"title":"显示状态","description":"优惠券模块不可编辑，系统会自动抓取您已经创建的优惠券，按照优惠券力度由大到小进行排列 。","disabled":true}}}')},8864:function(t){t.exports=JSON.parse('{"show":{"ui:options":{"title":"添加推荐商品","description":"推荐商品模块不可编辑，系统自动基于大数据做商品推荐","label":true,"disabled":true}}}')},"8c46":function(t){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","id":"AllGoodsList","type":"object","properties":{"show":{"type":"boolean","default":true}},"required":["show"]}')},"8f3d":function(t,e,i){"use strict";i.r(e);var o=function(){var t,e=this,o=e.$createElement,n=e._self._c||o;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],class:(t={},t[e.$style.previewBox]=e.isPreview,t)},[n("transition",{attrs:{name:"el-zoom-in-top"}},[e.isPreview?n("el-button",{staticStyle:{position:"fixed",right:"20px",top:"20px","z-index":"5"},attrs:{type:"primary"},on:{click:function(t){(e.scale=70)&&(e.isPreview=!1)}}},[e._v(" 结束预览 ")]):n("EditorHeader",{on:{onUpdateScale:e.fixComponentFormPosition,onPreview:function(t){(e.scale=100)&&(e.isPreview=!0)},onSave:e.handleSave,onPublish:e.handlePublish},model:{value:e.scale,callback:function(t){e.scale=t},expression:"scale"}})],1),n("div",{class:[e.$style.container,e.showToolBar?e.$style.hasTools:""]},[n("span",{class:e.$style.leftCaret,on:{click:function(t){e.showToolBar=!e.showToolBar}}},[n("i",{staticClass:"el-icon-caret-right"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showToolBar,expression:"showToolBar"}],class:e.$style.toolsBar},[n("EditorToolBar",{attrs:{"current-use-component-num":e.currentUseComponentNum,"drag-group":e.dragOptions.group,"config-tools":e.configTools},on:{onFilter:function(t){return e.$message.error("该组件添加数目已达上限！")}}})],1),n("div",{ref:"domScrollWrap",class:e.$style.contentWrap},[n("div",{class:[e.$style.contentBox]},[n("div",{class:e.$style.dragAreaWrap,style:{transform:"scale("+e.scale/100+")"}},[n("draggable",e._b({ref:"draggable",class:[e.$style.dragArea],on:{change:e.handleDragChange,start:e.handlerStart},model:{value:e.editComponentList,callback:function(t){e.editComponentList=t},expression:"editComponentList"}},"draggable",e.dragOptions,!1),e._l(e.trueComponentList,(function(t){var i;return n("div",{key:t.id,class:(i={draggableSlot:t.$$slot,draggableItem:!t.$$slot},i["draggableSlot_"+t.$$slot]=t.$$slot,i),attrs:{slot:t.$$slot||"default"},slot:t.$$slot||"default"},[n("ViewComponentWrap",{attrs:{"editor-item":t,"is-preview":e.isPreview},on:{onOperate:e.handleItemOperate}},[t.componentFormName?n(t.componentFormName,{tag:"component",attrs:{slot:"componentForm",value:t.componentValue},on:{"on-change":e.handleDataChange,"on-cancel":function(e){t.isEdit=!1},"on-submit":function(i){return e.handleSaveForm(i,t)}},slot:"componentForm"}):n("VueElementForm",{attrs:{slot:"componentForm",schema:t.componentPack.propsSchema,"ui-schema":t.componentPack.uiSchema,"error-schema":t.componentPack.errorSchema,"custom-rule":t.componentPack.customRule,value:t.componentValue},on:{"on-change":e.handleDataChange,"on-cancel":function(e){t.isEdit=!1},"on-submit":function(i){return e.handleSaveForm(i,t)}},slot:"componentForm"}),n(t.componentViewName,{tag:"component",attrs:{slot:"componentView","form-data":t.componentValue},slot:"componentView"})],1)],1)})),0),0===e.trueComponentList.length?n("div",{class:e.$style.tipBox},[n("img",{attrs:{src:i("f0f2"),alt:"empty-img"}}),n("p",[e._v("左边选择模块拖入该区域")])]):e._e()],1)])])])],1)},n=[],a=i("2e1d"),r=i("b0c0"),s=i("b822"),m=i("81e1"),c=i.n(m),l=i("31da"),p=i("655a"),d=i("2be67"),u=i("b8ca"),g=i.n(u),h=i("c145"),f=i("ea92"),b=i("11e2"),w=i("1aad"),j=i("a000"),_=i("896c"),v=i("bd6d"),I=i("7e2a"),k=i("2e8e"),y=i("262a"),L={imgList:{"ui:options":{title:"添加图片",description:"图片宽度1920px，高度固定500px。<span>这里使用默认的field和校验提示</span>",showIndexNumber:!0},items:Object(d["a"])(Object(d["a"])({},Object(y["a"])({width:1920,height:500})),{},{"ui:title":"轮播图片配置"})}},x={imgList:{items:{imgLink:{"err:format":"请输入正确的的链接地址","err:required":"不能为空"}}}},S=function(){return i.e("chunk-3c0f485c").then(i.bind(null,"0eab"))},O={View:S,propsSchema:k,uiSchema:L,errorSchema:x},C=i("6ab0"),T={startTime:{"ui:options":{placeholder:"选择开始时间",style:{width:"100%"},pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()}}}},seckillBrand:Object(d["a"])(Object(d["a"])({},Object(y["a"])()),{},{"ui:title":"右侧固定广告位配置"}),goodsList:{"ui:options":{title:"添加商品",description:"添加秒杀商品，这里应该是结合具体业务调用添加商品逻辑",showIndexNumber:!0},items:Object(d["a"])(Object(d["a"])({},Object(y["a"])({width:1920,height:500})),{},{"ui:title":"商品配置"})}},X=function(){return Promise.all([i.e("chunk-vendors-async"),i.e("chunk-228567e0")]).then(i.bind(null,"a473"))},$={View:X,propsSchema:C,uiSchema:T},B=i("9ad0"),N={txt:{"ui:placeholder":"输入你的内容","ui:options":{getWidget:function(t){console.log(t)}}},txtColor:{"ui:widget":"el-color-picker"}},U=function(){return i.e("chunk-5033987e").then(i.bind(null,"45fe"))},E={View:U,propsSchema:B,uiSchema:N},P=i("01ef"),F={imgList:{items:Object(y["a"])()}},V=function(){return{imgUrl:{"err:format":"请正常选择图片","err:required":"请选择你要配置的图片"},imgLink:{"err:format":"请输入合法的链接地址","err:required":"请输入合法的链接地址"}}},D={imgList:{items:V()}},q=function(){return Promise.all([i.e("chunk-vendors-async"),i.e("chunk-e11386a6")]).then(i.bind(null,"a7f8"))},J={View:q,propsSchema:P,uiSchema:F,errorSchema:D},K=i("f75e"),W=Object(y["a"])({width:383,height:500}),G={imgItem1_1:Object(d["a"])({"ui:title":"图片上左"},Object(y["a"])({width:786,height:420})),imgItem1_2:Object(d["a"])({"ui:title":"图片上右"},W),imgItem2_1:Object(d["a"])({"ui:title":"图片下左"},W),imgItem2_2:Object(d["a"])({"ui:title":"图片下中"},W),imgItem2_3:Object(d["a"])({"ui:title":"图片下右"},W)},M=V(),Z={imgItem1_1:M,imgItem1_2:M,imgItem2_1:M,imgItem2_2:M,imgItem2_3:M},A=function(){return i.e("chunk-aaf5808a").then(i.bind(null,"a092"))},z={View:A,propsSchema:K,uiSchema:G,errorSchema:Z},H=i("094b"),Q=Object(y["a"])({width:383,height:500}),R={imgItem1_1:Object(d["a"])({"ui:title":"图片上"},Object(y["a"])({width:1920,height:420})),imgItem2_1:Object(d["a"])({"ui:title":"图片下左"},Q),imgItem2_2:Object(d["a"])({"ui:title":"图片下中"},Q),imgItem2_3:Object(d["a"])({"ui:title":"图片下右"},Q)},Y=V(),tt={imgItem1_1:Y,imgItem2_1:Y,imgItem2_2:Y,imgItem2_3:Y},et=function(){return i.e("chunk-48de9186").then(i.bind(null,"1721"))},it={View:et,propsSchema:H,uiSchema:R,errorSchema:tt},ot=i("5b10"),nt={title:{"ui:placeholder":"请输入标题"},subTitle:{"ui:placeholder":"请输入副标题"},banner:{link:Object(d["a"])({},Object(y["a"])()),bannerTitle:{"ui:placeholder":"请输入banner标题"},bannerSubTitle:{"ui:placeholder":"请输入banner副标题"}},goodsList:{"ui:showIndexNumber":!0,items:Object(d["a"])({},Object(y["a"])())}},at=function(){return Promise.all([i.e("chunk-vendors-async"),i.e("chunk-26e83f73")]).then(i.bind(null,"bd5d"))},rt={View:at,propsSchema:ot,uiSchema:nt},st=i("f2b2"),mt=i("8864"),ct=function(){return Promise.all([i.e("chunk-vendors-async"),i.e("chunk-2d0f0a3f")]).then(i.bind(null,"9cdc"))},lt={View:ct,propsSchema:st,uiSchema:mt},pt=i("8c46"),dt=i("cdc5"),ut=function(){return Promise.all([i.e("chunk-vendors-async"),i.e("chunk-2d0c0a82")]).then(i.bind(null,"435b"))},gt={View:ut,propsSchema:pt,uiSchema:dt},ht=i("585a"),ft=i("7833"),bt=function(){return i.e("chunk-73a2179c").then(i.bind(null,"234a"))},wt={View:bt,propsSchema:ht,uiSchema:ft},jt=[{groupName:"图文类",componentList:[{title:"轮播 (普通数组)",maxNum:2,viewWidth:"1920px",icon:"el-icon-picture",componentPack:O},{title:"秒杀商品",maxNum:3,icon:"el-icon-picture",componentPack:$},{title:"多图(5)",maxNum:5,icon:"el-icon-picture",componentPack:J},{title:"多图(2-3)",maxNum:10,icon:"el-icon-s-grid",componentPack:z},{title:"多图(1-3)",maxNum:10,icon:"el-icon-s-grid",componentPack:it},{title:"分类管区",maxNum:10,icon:"el-icon-s-grid",componentPack:rt},{title:"纯文本",maxNum:20,icon:"el-icon-notebook-1",componentPack:E}]},{groupName:"商品类",componentList:[{title:"全部商品",maxNum:1,icon:"el-icon-s-goods",componentPack:gt,additional:{bottomDisplay:!0,unRemove:!0}},{title:"推荐商品",maxNum:1,icon:"el-icon-s-goods",componentPack:lt}]},{groupName:"营销互动类",componentList:[{title:"优惠券",maxNum:1,icon:"el-icon-s-ticket",componentPack:wt}]}],_t=jt,vt=[{name:"CarouselImg",value:{imgList:[{imgUrl:"https://gjusp.alicdn.com/img/img1550568121854-2927159970.jpg@1000y-0ic_50Q.jpg_.webp",imgLink:"https://www.jd.com"},{imgUrl:"https://m.360buyimg.com/babel/jfs/t1/136164/18/4633/216335/5f1176b9E0d2e6f59/e41c72e01932fd73.jpg.webp",imgLink:"https://www.jd.com"},{imgUrl:"https://gw.alicdn.com/tfs/TB1DKP9zCtYBeNjSspkXXbU8VXa-1920-450.jpg_Q90.jpg",imgLink:"https://www.jd.com"}]}},{name:"Text",value:{txt:"抢购商品",txtColor:"#507aa0"}},{name:"FlashSaleGoodsList",value:{startTime:new Date(+new Date+108e5).toISOString(),seckillBrand:{imgUrl:"https://img30.360buyimg.com/babel/s290x370_jfs/t1/133470/23/5172/252715/5f1a3b3cE2c82f4cf/4a92d18397680eee.jpg!cc_290x370.webp",imgLink:"https://www.jd.com"},goodsList:[{imgUrl:"https://img20.360buyimg.com/seckillcms/s140x140_jfs/t1/126328/18/7901/172630/5f1a59abE28e964aa/f5e20e27f28b0a89.jpg.webp",imgLink:"https://www.jd.com"},{imgUrl:"https://img30.360buyimg.com/seckillcms/s140x140_jfs/t1/142185/40/3434/109046/5f16ac4fE956bf200/90efad9b84ffe90b.jpg.webp",imgLink:"https://www.jd.com"},{imgUrl:"https://img14.360buyimg.com/seckillcms/s140x140_jfs/t1/133076/17/1286/104358/5ed75fc3E23ef61d0/b978578df3ac20be.jpg.webp",imgLink:"https://www.jd.com"},{imgUrl:"https://img14.360buyimg.com/seckillcms/s140x140_jfs/t1/118303/36/12735/201862/5f190d0eEdc4b3f3e/aa56786b0830a522.jpg.webp",imgLink:"https://www.jd.com"},{imgUrl:"https://img14.360buyimg.com/seckillcms/s140x140_jfs/t1/124035/6/7608/109674/5f1535f4E446ef9a3/5d16b10d7fdd226e.jpg.webp",imgLink:"https://www.jd.com"}]}},{name:"Text",value:{txt:"超值进口新发现",txtColor:"#ff0132"}},{name:"MultipleImg5",value:{imgList:["https://img.alicdn.com/tps/i4/TB1Q2Mnd2zO3e4jSZFxwu1P_FXa.png_500x1000q75.jpg_.webp","https://img.alicdn.com/tps/i4/TB1t2dzOvb2gK0jSZK9wu1EgFXa.png_500x1000q75.jpg_.webp","https://img.alicdn.com/tps/i4/TB1ZJtFOAL0gK0jSZFAwu3A9pXa.png_500x1000q75.jpg_.webp","https://img.alicdn.com/tps/i4/TB1y4tuOxz1gK0jSZSgSuuvwpXa.jpg_500x1000q75s0.jpg_.webp","https://img.alicdn.com/tps/i4/TB14GVJOAT2gK0jSZFkwu3IQFXa.png_500x1000q75.jpg_.webp"].map((function(t){return{imgUrl:t,imgLink:"https://www.tmall.com"}}))}},{name:"Text",value:{txt:"超值进口新发现",txtColor:"#487cff"}},{name:"MultipleImg2_3",value:{imgItem1_1:{imgUrl:"https://img.alicdn.com/tps/i4/TB1fbhiawoQMeJjy0FnSuv8gFXa.jpg_490x490q100.jpg_.webp",imgLink:"https://www.jd.com/"},imgItem1_2:{imgUrl:"https://gw.alicdn.com/tfs/TB1UzOqoWL7gK0jSZFBXXXZZpXa-468-602.jpg",imgLink:"https://www.jd.com/"},imgItem2_1:{imgUrl:"https://img.alicdn.com/tfs/TB1XjMYnfb2gK0jSZK9XXaEgFXa-468-1236.jpg",imgLink:"https://www.jd.com/"},imgItem2_2:{imgUrl:"https://gw.alicdn.com/tfs/TB1s720BxD1gK0jSZFyXXciOVXa-468-1236.jpg",imgLink:"https://www.jd.com/"},imgItem2_3:{imgUrl:"https://gw.alicdn.com/tfs/TB1xVR9oFP7gK0jSZFjXXc5aXXa-468-602.jpg",imgLink:"https://www.jd.com/"}}},{name:"Text",value:{txt:"超值进口新发现",txtColor:"#589A6D"}},{name:"MultipleImg1_3",value:{imgItem1_1:{imgUrl:"https://aecpm.alicdn.com/simba/img/TB1W4nPJFXXXXbSXpXXSutbFXXX.jpg",imgLink:"http://127.0.0.1:8800/vue-editor.html#/editor"},imgItem2_1:{imgUrl:"https://img.alicdn.com/tps/i4/TB1KhvGOAY2gK0jSZFgSuw5OFXa.jpg",imgLink:"http://127.0.0.1:8800/vue-editor.html#/editor"},imgItem2_2:{imgUrl:"https://img.alicdn.com/tps/i4/TB17qddaOERMeJjSspiSuvZLFXa.jpg_320x5000q100.jpg_.webp",imgLink:"http://127.0.0.1:8800/vue-editor.html#/editor"},imgItem2_3:{imgUrl:"https://img.alicdn.com/tfs/TB1XjMYnfb2gK0jSZK9XXaEgFXa-468-1236.jpg",imgLink:"http://127.0.0.1:8800/vue-editor.html#/editor"}}},{name:"CategoryGoods",value:{title:"打造爱巢",subTitle:"HOME",banner:{link:{imgUrl:"https://img.alicdn.com/tps/i4/TB1MesKcWmWQ1JjSZPhwu0CJFXa.png",imgLink:"https://www.jd.com"},bannerTitle:"广告位",bannerSubTitle:"广告位副标题"},goodsList:[{imgUrl:"https://gw.alicdn.com/bao/uploaded/i3/3243519086/O1CN016gQ0Ia2GzR82IAhdR_!!0-item_pic.jpg",imgLink:"https://www.jd.com"},{imgUrl:"https://gw.alicdn.com/bao/uploaded/i1/2145455856/O1CN01tJoDJ11t85wjbqfVw_!!0-item_pic.jpg",imgLink:"https://www.jd.com"},{imgUrl:"https://gw.alicdn.com/bao/uploaded/i1/2750439771/TB14Nr2MVXXXXbMapXXXXXXXXXX_!!0-item_pic.jpg",imgLink:"https://www.jd.com"},{imgUrl:"https://gw.alicdn.com/bao/uploaded/i2/2619099633/O1CN01XQNyC82L1xuQm6aeX_!!0-item_pic.jpg",imgLink:"https://www.jd.com"},{imgUrl:"https://gw.alicdn.com/bao/uploaded/i1/748159429/O1CN01xeiYck2JWX37gKDJk_!!2-item_pic.png",imgLink:"https://www.jd.com"},{imgUrl:"https://gw.alicdn.com/bao/uploaded/i1/3294603858/O1CN01HpuPy31eN0YdGTTkz_!!2-item_pic.png",imgLink:"https://www.jd.com"},{imgUrl:"https://gw.alicdn.com/bao/uploaded/i1/2105113961/O1CN01C6b1kj1f8BJxju0i4_!!0-item_pic.jpg",imgLink:"https://www.jd.com"},{imgUrl:"https://gw.alicdn.com/bao/uploaded/i3/670743919/TB1ikrMawnH8KJjSspcXXb3QFXa_!!0-item_pic.jpg",imgLink:"https://www.jd.com"}]}},{name:"RecommendedGoodsList"},{name:"AllGoodsList"}],It=i("6a97"),kt=i("8e27"),yt=(i("c8cf"),Object(It["a"])(_t)),Lt={name:"Editor",components:Object(d["a"])(Object(d["a"])({},yt),{},{VueElementForm:h["default"],Draggable:g.a,EditorToolBar:j["a"],EditorHeader:_["a"],ViewComponentWrap:v["a"]}),data:function(){return{loading:!1,isPreview:!1,configTools:_t,scale:70,editComponentList:[],editHeaderComponentList:[],editFooterComponentList:[],showToolBar:!0}},computed:{dragOptions:function(){return{animation:300,group:"listComponentsGroup",disabled:this.isPreview,ghostClass:this.$style.ghost,filter:this.$style.disabled,draggable:".draggableItem",tag:"div",swapThreshold:.3}},componentListGroup:function(){return[this.editHeaderComponentList,this.editComponentList,this.editFooterComponentList]},trueComponentList:function(){var t;return(t=[]).concat.apply(t,Object(p["a"])(this.componentListGroup))},currentUseComponentNum:function(){return this.trueComponentList.reduce((function(t,e){return t[e.componentViewName]=t[e.componentViewName]?t[e.componentViewName]+1:1,t}),{})}},watch:{trueComponentList:function(){this.computedComponentToolBarStatus(),this.fixComponentFormPosition()}},mounted:function(){window.document.body.classList.add("page-decorate-design");var t=this.$refs.domScrollWrap;this.$refs.domScrollWrap.scrollLeft=(t.scrollWidth-t.clientWidth)/2},destroyed:function(){window.document.body.classList.remove("page-decorate-design")},created:function(){this.initEditorData()},methods:{validateDataList:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.trueComponentList.length<=0)return this.$message.warning("请先拖入需要配置的组件"),!1;if(!t)return!0;for(var e=0;e<this.trueComponentList.length;e+=1){var i=this.trueComponentList[e],o=!1;if(i.componentPack.propsSchema?o=!h["schemaValidate"].isValid(i.componentPack.propsSchema,i.componentValue):this.$message.warning("使用非schema生成表单 需要自行校验数据!"),o)return document.querySelectorAll(".js_viewComponentBox")[e].click(),this.$message.error("数据配置校验不通过，请检查!"),!1}return!0},initEditorData:function(){var t=this;return Object(l["a"])(c.a.mark((function e(){var i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=Object(I["a"])(_t,vt),i.forEach((function(e){if(!e.componentPack)return console.warn("存在一条异常数据，请检查："),void console.log(i);var o=Object(kt["a"])(e);t.editComponentList.push(o),o.additional&&t.additionalStrategy(o.additional,o)}));case 2:case"end":return e.stop()}}),e)})))()},handleSave:function(t){this.validateDataList(t)&&Object(b["a"])({VueComponent:w["a"],dialogProps:{title:"提交数据"},componentProps:{jsonString:Object(I["b"])(this.trueComponentList)}})},handlePublish:function(){this.handleSave(!0)},computedComponentToolBarStatus:function(){var t=this;this.componentListGroup.forEach((function(e){e.forEach((function(i,o){Object.assign(i.toolBar,{moveUpDisabled:0===o,moveDownDisabled:o===e.length-1,copyDisabled:(t.currentUseComponentNum[i.componentViewName]||0)>=i.maxNum,removeDisabled:i.additional&&i.additional.unRemove})}))}))},getCurrentListByItem:function(t){var e,i=Object(s["a"])(this.componentListGroup);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(o.includes(t))return o}}catch(n){i.e(n)}finally{i.f()}return[]},fixComponentFormPosition:function(){var t=this;setTimeout((function(){var e=window.document.createEvent("UIEvents");e.initUIEvent("scroll",!0,!1,window,0),t.$refs.domScrollWrap.dispatchEvent(e)}))},handleDataChange:function(){this.fixComponentFormPosition()},handleItemOperate:function(t){var e=t.item,i=t.command,o={moveUp:function(t,e){return f["b"](t,e)},moveDown:function(t,e){return f["a"](t,e)},copy:function(t,e){e.componentValue;var i=Object(r["a"])(e,["componentValue"]);return t.splice(t.indexOf(e)+1,0,Object(kt["a"])(i))},remove:function(t,e){return f["c"](t,e)}},n=o[i];n?n.apply(this,[this.getCurrentListByItem(e),e]):this.$message.error("系统错误 - 未知的操作：[".concat(i,"]"))},handleSaveForm:function(t,e){Object.assign(e,{componentValue:t,isEdit:!1})},moveToBothEnds:function(t,e){var i=this.editComponentList.indexOf(t);i>=0&&(0===e?this.editHeaderComponentList:this.editFooterComponentList).push(this.editComponentList.splice(i,1)[0])},additionalStrategy:function(t,e){var i=this,o={topDisplay:function(){e.$$slot="header",this.moveToBothEnds(e,0)},bottomDisplay:function(){e.$$slot="footer",this.moveToBothEnds(e,1)}};Object.entries(t).forEach((function(t){var e=Object(a["a"])(t,2),n=e[0],r=e[1];o[n]&&o[n].apply(i,[].concat(r))}))},handlerStart:function(t){},handleDragChange:function(t){t.added&&t.added.element.additional&&this.additionalStrategy(t.added.element.additional,t.added.element)}}},xt=Lt,St=(i("95fb"),i("03f4")),Ot=i("2be6");function Ct(t){this["$style"]=St["default"].locals||St["default"]}var Tt=Object(Ot["a"])(xt,o,n,!1,Ct,null,null);e["default"]=Tt.exports},"95fb":function(t,e,i){"use strict";var o=i("1e39"),n=i.n(o);n.a},"9ad0":function(t){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","id":"Text","title":"单文本输入组件","description":"单文本输入组件，用于在页面配置一条文字信息","type":"object","required":["txt"],"properties":{"txt":{"title":"文字","type":"string"},"txtColor":{"title":"选择文字颜色","type":"string","default":"#ff0132"}}}')},cdc5:function(t){t.exports=JSON.parse('{"show":{"ui:options":{"title":"添加全部商品","description":"全部商品模块不可编辑，不可移除，自动置底；系统会获取全部商品。","label":true,"disabled":true}}}')},f2b2:function(t){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","id":"RecommendedGoodsList","type":"object","properties":{"show":{"type":"boolean","default":true}},"required":["show"]}')},f75e:function(t){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","id":"MultipleImg2_3","type":"object","definitions":{"ImgItem":{"type":"object","properties":{"imgUrl":{"type":"string","format":"uri"},"imgLink":{"type":"string","format":"uri","default":"https://www.jd.com/"}},"required":["imgUrl","imgLink"]}},"properties":{"imgItem1_1":{"$ref":"#/definitions/ImgItem"},"imgItem1_2":{"$ref":"#/definitions/ImgItem"},"imgItem2_1":{"$ref":"#/definitions/ImgItem"},"imgItem2_2":{"$ref":"#/definitions/ImgItem"},"imgItem2_3":{"$ref":"#/definitions/ImgItem"}}}')}}]);