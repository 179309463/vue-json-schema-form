(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fde4794a"],{"01fc":function(e,t,o){"use strict";var r=o("771e"),i=o.n(r);t["default"]=i.a},"38f0":function(e,t,o){e.exports={box:"EditorToolBar_box_2PqJE",group:"EditorToolBar_group_1qIq1",groupName:"EditorToolBar_groupName_3j7ZC",groupList:"EditorToolBar_groupList_mWKwO",listItem:"EditorToolBar_listItem_3DqUL",line:"EditorToolBar_line_1D0sp",lineIcon:"EditorToolBar_lineIcon_2b_0z",disabled:"EditorToolBar_disabled_XXGMz"}},"4a6f":function(e,t,o){"use strict";o.d(t,"e",(function(){return s})),o.d(t,"d",(function(){return u})),o.d(t,"b",(function(){return m})),o.d(t,"c",(function(){return f})),o.d(t,"a",(function(){return h}));var r=o("655a"),i=o("2e1d"),n=o("b0c0"),a=o("2be67"),c=o("c145"),l=o("0549"),p=o("f8b2");function s(e){var t=e.componentPack,o=[t.viewSchema.format,t.viewSchema.type,Object(l["a"])()],r=o.filter((function(e){return!!e})).join("_");return Object(a["a"])(Object(a["a"])({},e),{},{isEdit:!1,toolBar:{moveDownDisabled:!1,moveUpDisabled:!1,copyDisabled:!1,removeDisabled:!1},componentValue:Object(a["a"])(Object(a["a"])({},!e.componentValue||Object(p["b"])(e.componentValue)?Object(c["getDefaultFormState"])(t.propsSchema,{},t.propsSchema):e.componentValue),{},{property:e.componentValue&&e.componentValue.property||r}),id:r},t.viewSchema.properties||t.viewSchema.items&&t.viewSchema.items.properties?{childList:[]}:{})}function u(e){return e?"".concat(4*e,"px"):void 0}function m(e){return parseFloat(e)/4}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return Object(p["c"])(t)&&!Object(p["b"])(t)||void 0!==t},o={};if(!Object(p["c"])(e))return o;for(var r in e)if(e.hasOwnProperty(r)){var i=t(r,e[r]),n=void 0===i||Boolean(i)===i;n&&i&&(o[r]=e[r]),n||(o[r]=i)}return o}function f(e,t){var o=e.componentValue.baseValue,r=o.schemaOptions,c=o.uiOptions;c=void 0===c?{}:c;var l=c.required,s=Object(n["a"])(c,["required"]),m=e.componentValue.options||{},f=m.schemaOptions,b=m.uiOptions,h=e.componentValue.rules||{},y=h.schemaOptions,g=h.uiOptions,v=Object(a["a"])(Object(a["a"])({},JSON.parse(JSON.stringify(e.componentPack.viewSchema))),d(Object(a["a"])(Object(a["a"])(Object(a["a"])({},r),f),y))),O={showInput:!1,showStops:!1,showInputControls:!0,showTooltip:!0,debounce:300,controlsPosition:"default",stepStrictly:!1,clearable:!1,disabled:!1,showPassword:!1,showWordLimit:!1,type:"text",showTitle:!0,showDescription:!0},j=d(Object(a["a"])(Object(a["a"])(Object(a["a"])({},s),b),g),(function(e,t){return O[e]!==t&&("labelWidth"===e?u(t):void 0!==t)})),w=j.hidden,S=j.widget,_=j.field,P=j.fieldProps,C=Object(n["a"])(j,["hidden","widget","field","fieldProps"]),x=Object(a["a"])(Object(a["a"])({},Object.entries({hidden:w,widget:S,field:_,fieldProps:P}).reduce((function(e,t){var o=Object(i["a"])(t,2),r=o[0],n=o[1];return void 0!==n&&(e["ui:".concat(r)]=n),e}),{})),Object(p["b"])(C)?{}:{"ui:options":C});return{rootSchema:v,schema:v,required:l,rootFormData:t,curNodePath:e.componentValue.property||"",uiSchema:x}}function b(){return{type:"object",required:[],properties:{},"ui:order":[]}}function h(e){var t=b(),o=t,i=[{$$parentFlag:o}].concat(Object(r["a"])(e)),n=function(e){return Array.isArray(e.childList)&&e.childList.length>0};while(i.length){var c=i.shift();if(c.$$parentFlag)o=c.$$parentFlag;else{var l=f(c,{}),p=l.schema,s=l.required,u=l.uiSchema,m=Object(a["a"])(Object(a["a"])({},p),u);n(c)&&(i=[].concat(Object(r["a"])(i),[{$$parentFlag:m}],Object(r["a"])(c.childList))),(o.properties||o.items.properties)[c.componentValue.property]=m,(o["ui:order"]||o.items["ui:order"]).push(c.componentValue.property),s&&(o.required||o.items.required).push(c.componentValue.property)}}return t}},"60e1":function(e,t,o){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",o=document.createElement("a");o.style.display="none",o.target=t,o.href=e,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function i(e){var t=String(void 0===e?window.location.href:e).replace(/#.*$/,""),o=t.substring(t.lastIndexOf("?")+1),r={},i=/([^?&=]+)=([^?&=]*)/g;return o.replace(i,(function(e,t,o){var i=decodeURIComponent(t),n=String(decodeURIComponent(o));return r[i]=n,e})),r}o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return i}))},"771e":function(e,t,o){e.exports={formItem:"NestedEditor_formItem_3To3f",formItemWrap:"NestedEditor_formItemWrap_1FOoG",dragArea:"NestedEditor_dragArea_2U8_u"}},"83ea":function(e,t,o){"use strict";var r=o("de3f"),i=o.n(r);i.a},"8b9b":function(e,t,o){e.exports={container:"Editor_container_Yew97",hasTools:"Editor_hasTools_12TZd",toolBarWrap:"Editor_toolBarWrap_1xvE1",rightForm:"Editor_rightForm_1qxU4",toolsBar:"Editor_toolsBar_3vsiW",leftCaret:"Editor_leftCaret_1NRyn",configForm:"Editor_configForm_Nr4Az",contentWrap:"Editor_contentWrap_2q0By",closeToolbar:"Editor_closeToolbar_21h76",contentBox:"Editor_contentBox_3axgF",tipBox:"Editor_tipBox_Ko5HB"}},"91ea":function(e,t,o){"use strict";var r=o("8b9b"),i=o.n(r);t["default"]=i.a},"999c":function(e,t,o){"use strict";o.r(t);var r=function(){var e,t,o=this,r=o.$createElement,i=o._self._c||r;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:o.loading,expression:"loading"}]},[i("EditorHeader",{attrs:{"default-active":"4"}},[i("el-button",{on:{click:o.handleImportSchema}},[o._v("导入Schema")]),i("el-button",{attrs:{plain:""},on:{click:o.handleToDemo}},[o._v(" Playground中验证 ")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:o.handlePreview}},[o._v(" 预览展示 ")]),i("el-button",{attrs:{type:"primary"},on:{click:o.handleExportSchema}},[o._v(" 导出Schema ")])],1),i("div",{class:[o.$style.container]},[i("div",{class:(e={},e[o.$style.contentWrap]=!0,e[o.$style.closeToolbar]=o.closeToolbar,e)},[i("div",{class:o.$style.toolBarWrap},[i("div",{class:o.$style.toolsBar},[i("EditorToolBar",{attrs:{"drag-group":o.dragOptions.group,"config-tools":o.configTools},on:{onFilter:function(e){return o.$message.error("该组件添加数目已达上限！")}}})],1),i("span",{class:o.$style.leftCaret,on:{click:function(e){o.closeToolbar=!o.closeToolbar}}},[i("i",{staticClass:"el-icon-caret-right"})])]),i("div",{class:[o.$style.contentBox]},[i("el-form",o._b({staticClass:"genFromComponent",class:(t={layoutColumn:!o.formProps.inline},t["layoutColumn-"+o.formProps.layoutColumn]=!o.formProps.inline,t),staticStyle:{height:"100%"},attrs:{model:o.rootFormData}},"el-form",o.formProps,!1),[i("NestedEditor",{attrs:{"child-component-list":o.componentList,"drag-options":o.dragOptions,"form-data":o.rootFormData,"form-props":o.formProps}},[o.componentList.length>0&&o.formFooter.show?i("el-form-item",{staticClass:"formFooter_item w100 formFooter_item-editor",style:{display:o.formProps.inline&&o.formProps.inlineFooter?"inline-block":"block"}},[i("el-button",{on:{click:function(e){return o.$emit("onCancel")}}},[o._v(o._s(o.formFooter.cancelBtn))]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return o.$emit("onSubmit")}}},[o._v(" "+o._s(o.formFooter.okBtn)+" ")])],1):o._e()],1)],1),0===o.componentList.length?i("div",{class:o.$style.tipBox},[i("p",[o._v("拖拽左侧栏的组件进行添加")])]):o._e()],1),i("div",{class:o.$style.rightForm},[i("el-tabs",{model:{value:o.activeName,callback:function(e){o.activeName=e},expression:"activeName"}},[o.curEditorItem?i("el-tab-pane",{attrs:{label:"组件配置",name:"compConfig"}},[i("VueJsonFrom",{class:o.$style.configForm,attrs:{schema:o.curEditorItem.componentPack.propsSchema,"form-props":{labelPosition:"right",labelWidth:"110px"},"form-footer":{show:!1}},model:{value:o.curEditorItem.componentValue,callback:function(e){o.$set(o.curEditorItem,"componentValue",e)},expression:"curEditorItem.componentValue"}})],1):o._e(),i("el-tab-pane",{attrs:{label:"表单配置",name:"formConfig"}},[i("VueJsonFrom",{class:o.$style.configForm,attrs:{schema:o.FormConfSchema,"form-props":{labelPosition:"right",labelWidth:"110px"},"form-footer":{show:!1}},model:{value:o.formConfig,callback:function(e){o.formConfig=e},expression:"formConfig"}})],1)],1)],1)])])],1)},i=[],n=o("2be67"),a=o("c145"),c=o("11e2"),l=o("60e1"),p=o("de80"),s=o("4a6f"),u={type:"object",required:[],properties:{formProps:{title:"表单配置",type:"object",description:"提示：如果使用inline布局（ElementUi form inline 配置），则多列布局不生效；另外 Footer inline 只支持一行表单项",properties:{inline:{type:"boolean",title:"Inline布局",default:!1},inlineFooter:{type:"boolean",title:"Footer inline",default:!1},layoutColumn:{title:"布局",type:"number",default:1,enum:[1,2,3],enumNames:["一行一列","一行二列","一行三列"],"ui:widget":"SelectWidget"},labelPosition:{title:"标签对其方式",type:"string",default:"top",enum:["left","right","top"],enumNames:["Left","Right","Top"]},labelWidth:{title:"标签宽度",type:"number",default:25,"ui:widget":"ElSlider","ui:options":{formatTooltip:function(e){return Object(s["d"])(e)}}},labelSuffix:{title:"表单项后缀",type:"string",default:"："}}},formFooter:{title:"表单Footer配置",type:"object",properties:{show:{type:"boolean",title:"是否显示底部",default:!1},okBtn:{type:"string",title:"确认按钮文字",default:"保存"},cancelBtn:{type:"string",title:"取消按钮文字",default:"取消"}}}}},m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:e.$style.box},e._l(e.configTools,(function(t,r){return o("div",{key:r,class:e.$style.group},[t.hidden?e._e():[o("h3",{class:e.$style.groupName},[e._v(" "+e._s(t.groupName)+"("+e._s(t.componentList.length)+") ")]),o("draggable",{class:e.$style.groupList,attrs:{sort:!1,filter:"."+e.$style.disabled,group:{name:e.dragGroup,pull:"clone",put:!1},clone:e.cloneDog},on:{filter:function(t){return e.$emit("onFilter")},start:function(t){return e.$emit("onDragStart")},end:function(t){return e.$emit("onDragEnd")}},model:{value:t.componentList,callback:function(o){e.$set(t,"componentList",o)},expression:"group.componentList"}},e._l(t.componentList,(function(t,r){var i;return o("div",{key:r,class:(i={},i[e.$style.listItem]=!0,i.draggableToolItem=!0,i[t.btnClass]=t.btnClass,i)},[o("span",[e._v(e._s(t.title))])])})),0)]],2)})),0)},d=[],f=o("b8ca"),b=o.n(f),h={name:"EditorToolBar",components:{Draggable:b.a},props:{configTools:{type:Array,default:function(){return[]}},dragGroup:{default:"",type:String}},methods:{cloneDog:function(e){return Object(s["e"])(e)}}},y=h,g=o("c6f5"),v=o("2be6");function O(e){this["$style"]=g["default"].locals||g["default"]}var j=Object(v["a"])(y,m,d,!1,O,null,null),w=j.exports,S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"text-align":"right"}},[o("el-button",{on:{click:e.toCopy}},[e._v("复制代码")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$emit("toDemo")}}},[e._v(" 在 Playground 页验证 ")]),o("JsonPrettyPrint",{attrs:{"json-string":e.genCode}})],1)},_=[],P=o("1aad"),C={name:"ExportSchemaView",components:{JsonPrettyPrint:P["a"]},props:{genCode:{type:Object,default:function(){return{}}}},data:function(){return{genType:1}},methods:{toCopy:function(){var e=this;if(!this.copied){var t=this.$el.querySelectorAll("pre")[0];t.setAttribute("contenteditable","true"),t.focus(),document.execCommand("selectAll",!1,null),this.copied=document.execCommand("copy"),t.removeAttribute("contenteditable"),setTimeout((function(){e.copied=!1,e.$message.success("复制成功")}),300)}}}},x=C,k=Object(v["a"])(x,S,_,!1,null,null,null),$=k.exports,E=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"text-align":"right"}},[e._m(0),o("el-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:20},placeholder:"注意：导入数据格式请参考导出数据格式"},model:{value:e.importStr,callback:function(t){e.importStr=t},expression:"importStr"}}),o("p",{staticStyle:{"margin-top":"20px"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$emit("onImport",e.importStr)}}},[e._v(" 导入 ")])],1)],1)},T=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{margin:"-10px 0 10px","text-align":"left",color:"#999"}},[o("p",[e._v("如果导出的数据手动修改过再次导入可能会导入失败，同时配置组件做了细化拆分方便导入匹配正确结果，可能得不偿失，有点鸡肋 Orz . ...")])])}],I={name:"ImportSchemaView",data:function(){return{importStr:""}}},D=I,F=Object(v["a"])(D,E,T,!1,null,null,null),L=F.exports,N=o("f8b2");function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{title:"基础配置",type:"object",properties:{schemaOptions:{type:"object",properties:Object(n["a"])(Object(n["a"])({title:{title:"标题",type:"string","ui:placeholder":"请输入表单项标题","err:required":"请输入标题"},description:{title:"描述",type:"string","ui:options":{placeholder:"请输入表单项描述，支持输入html",type:"textarea",rows:3}}},["array","object"].includes(e)?{}:{default:{title:"默认值",type:e,"ui:placeholder":"输入默认值"}}),["array"].includes(e)?{minItems:{title:"最少子元素",type:"number"},maxItems:{title:"最多子元素",type:"number"},uniqueItems:{type:"boolean",title:"不重复",description:"多选框强制默认为 true，且配置无效","ui:widget":"el-switch",default:!1}}:{})},uiOptions:{type:"object",properties:Object(n["a"])({},!["array","object"].includes(e)||t?{width:{title:"宽度",type:"string",description:'请输入style width 支持的格式，<br />比如<strong style="font-weight: bold;">10%、100px</strong>等，推荐百分比单位',"ui:placeholder":"请输入FormItem宽度"},labelWidth:{title:"标签宽度",type:"number","ui:widget":"ElSlider","ui:options":{formatTooltip:function(e){return Object(s["d"])(e)}}},required:{title:"必填",type:"boolean",default:!1},disabled:{title:"禁用",type:"boolean",default:!1}}:{showTitle:{title:"显示标题",type:"boolean",default:!0,"ui:widget":"el-switch"},showDescription:{title:"显示描述",type:"boolean",default:!0,"ui:widget":"el-switch"}})}}}}var V=function(e,t,o){return{type:"object",required:["property"],properties:Object(n["a"])({property:{title:"属性名",type:"string","ui:placeholder":"请输入属性名","err:required":"属性名必填"},baseValue:q(t,o)},e)}},B={title:"输入框",type:"string"},W={viewSchema:B,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{uiOptions:{type:"object",properties:{placeholder:{type:"string",title:"输入占位文本",default:"请输入"},clearable:{title:"显示清空按钮",type:"boolean",default:!1},showWordLimit:{title:"字数统计",type:"boolean",default:!1},showPassword:{title:"密码框",type:"boolean",default:!1},type:{type:"string",title:"输入框类型",enum:["text","textarea"],enumNames:["输入框 Input","文字域 Textarea"]}}}}},rules:{type:"object",title:"数据校验",required:[],properties:{schemaOptions:{type:"object",properties:{maxLength:{title:"最大长度",type:"number"},minLength:{title:"最小长度",type:"number"}}}}}})},A={title:"颜色选择器",type:"string",format:"color"},U={viewSchema:A,propsSchema:V()},J={title:"数字输入框",type:"number"},R={viewSchema:J,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{schemaOptions:{type:"object",properties:{multipleOf:{title:"步长",type:"number",default:1}}},uiOptions:{type:"object",properties:{stepStrictly:{title:"严格步长",type:"boolean",default:!1},precision:{title:"精度",type:"number",minimum:0},controlsPosition:{type:"string",title:"按钮位置",enum:["default","right"],enumNames:["默认两边","右侧显示"],default:"default"}}}}},rules:{type:"object",title:"数据校验",required:[],properties:{schemaOptions:{type:"object",properties:{minimum:{title:"最小值",type:"number"},maximum:{title:"最大值",type:"number"}}}}}},"number")},z={title:"数字（slider）",type:"number","ui:widget":"ElSlider"},G={viewSchema:z,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{schemaOptions:{type:"object",properties:{multipleOf:{title:"步长",type:"number",default:1}}},uiOptions:{type:"object",properties:{showInput:{title:"显示输入框",type:"boolean",default:!1},showInputControls:{title:"控制按钮",type:"boolean",default:!0},showStops:{title:"显示间断点",type:"boolean",default:!1},showTooltip:{title:"显示Tooltip",type:"boolean",default:!0},debounce:{title:"去抖延迟ms",type:"number",default:300}}}}},rules:{type:"object",title:"数据校验",required:[],properties:{schemaOptions:{type:"object",properties:{minimum:{title:"最小值",type:"number"},maximum:{title:"最大值",type:"number"}}}}}},"number")},H={title:"是否选择(Switch)",type:"boolean"},K={viewSchema:H,propsSchema:V({options:{type:"object",title:"选项",properties:{uiOptions:{type:"object",properties:{activeText:{title:"选择文案",type:"string"},inactiveText:{title:"非选择文案",type:"string"}}}}}})},M={title:"是否选择(Checkbox)",type:"boolean","ui:widget":"el-checkbox"},X={viewSchema:M,propsSchema:V({options:{type:"object",title:"选项",properties:{uiOptions:{type:"object",properties:{label:{title:"标签文案",type:"string",default:"是否"}}}}}})},Z={title:"是否选择(Select)",type:"boolean","ui:widget":"SelectWidget"},Y={viewSchema:Z,propsSchema:V({options:{type:"object",title:"选项",properties:{schemaOptions:{type:"object",properties:{enumNames:{type:"array",items:[{title:"选择文案",type:"string",default:"是"},{title:"非选择文案",type:"string",default:"否"}]}}}}}})},Q={title:"是否选择(Radio)",type:"boolean","ui:widget":"RadioWidget"},ee={viewSchema:Q,propsSchema:V({options:{type:"object",title:"选项",properties:{schemaOptions:{type:"object",properties:{enumNames:{type:"array",items:[{title:"选择文案",type:"string",default:"是"},{title:"非选择文案",type:"string",default:"否"}]}}}}}})},te={title:"单选类型",type:"string"},oe={enum:{title:"配置选项值",type:"array",minItems:1,"ui:showIndexNumber":!0,default:["1","2","3"],items:{title:"选项值",type:"string"}},enumNames:{title:"配置选项名称",type:"array",minItems:1,"ui:showIndexNumber":!0,default:["一","二","三"],items:{title:"选项名称",type:"string"}}},re={viewSchema:te,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{schemaOptions:{type:"object",properties:oe}}}})},ie={title:"单选(Radio)",type:"string","ui:widget":"RadioWidget"},ne={viewSchema:ie,propsSchema:re.propsSchema},ae={title:"单选(Select)",type:"string","ui:widget":"SelectWidget"},ce={viewSchema:ae,propsSchema:re.propsSchema},le={type:"array",uniqueItems:!0,items:{type:"string"}},pe={viewSchema:le,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{schemaOptions:{type:"object",properties:{uniqueItems:{type:"boolean","ui:widget":"hidden",default:!0},items:{type:"object",properties:Object(n["a"])({type:{type:"string",default:"string","ui:hidden":!0}},oe)}}}}}},"array",!0)},se={viewSchema:Object(n["a"])(Object(n["a"])({},pe.viewSchema),{},{title:"多选(Select)","ui:widget":"SelectWidget"}),propsSchema:pe.propsSchema},ue={viewSchema:Object(n["a"])(Object(n["a"])({},pe.viewSchema),{},{title:"多选(Checkbox)","ui:widget":"CheckboxesWidget"}),propsSchema:pe.propsSchema},me={title:"单文件",type:"string","ui:widget":"UploadWidget"},de={viewSchema:me,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{uiOptions:{type:"object",required:["action"],properties:{action:{title:"上传接口",type:"string",format:"uri",default:"https://run.mocky.io/v3/518d7af7-204f-45ab-9628-a6e121dab8ca"},btnText:{title:"上传按钮文案",type:"string"}}}}}})},fe={title:"多文件",type:"array",items:{type:"string"},"ui:widget":"UploadWidget"},be={viewSchema:fe,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{uiOptions:{type:"object",required:["action"],properties:{action:{title:"上传接口",type:"string",format:"uri",default:"https://run.mocky.io/v3/518d7af7-204f-45ab-9628-a6e121dab8ca"},btnText:{title:"上传按钮文案",type:"string"}}}}}})},he={title:"Time(字符串)",type:"string",format:"time"},ye={viewSchema:he,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{uiOptions:{type:"object",properties:{placeholder:{type:"string",title:"输入占位文本",default:"请选择时间"}}}}}})},ge={title:"Date(时间戳)",type:"number",format:"date"},ve={viewSchema:ge,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{uiOptions:{type:"object",properties:{placeholder:{type:"string",title:"输入占位文本",default:"请选择日期"}}}}}})},Oe={viewSchema:Object(n["a"])(Object(n["a"])({},ve.viewSchema),{},{title:"Date(字符串)",type:"string"}),propsSchema:ve.propsSchema},je={title:"DateTime(时间戳)",type:"number",format:"date-time"},we={viewSchema:je,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{uiOptions:{type:"object",properties:{placeholder:{type:"string",title:"输入占位文本",default:"请选择日期时间"}}}}}})},Se={viewSchema:Object(n["a"])(Object(n["a"])({},we.viewSchema),{},{title:"DateTime(字符串)",type:"string"}),propsSchema:we.propsSchema},_e={title:"Date范围(时间戳)",type:"array",format:"date",items:{type:"number"}},Pe={viewSchema:_e,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{uiOptions:{type:"object",properties:{startPlaceholder:{type:"string",title:"开始占位符",default:"开始日期"},endPlaceholder:{type:"string",title:"结束占位符",default:"结束日期"}}}}}})},Ce={viewSchema:Object(n["a"])(Object(n["a"])({},Pe.viewSchema),{},{title:"Date范围(字符串)",items:{type:"string"}}),propsSchema:Pe.propsSchema},xe={title:"DateTime范围(时间戳)",type:"array",format:"date-time",items:{type:"number"}},ke={viewSchema:xe,propsSchema:V({options:{type:"object",title:"选项",required:[],properties:{uiOptions:{type:"object",properties:{startPlaceholder:{type:"string",title:"开始占位符",default:"开始日期"},endPlaceholder:{type:"string",title:"结束占位符",default:"结束日期"}}}}}})},$e={viewSchema:Object(n["a"])(Object(n["a"])({},ke.viewSchema),{},{title:"DateTime范围(字符串)",items:{type:"string"}}),propsSchema:ke.propsSchema},Ee={title:"Object",type:"object",required:[],properties:{},"ui:order":[]},Te={viewSchema:Ee,propsSchema:V({},"object")},Ie={title:"Array",type:"array",items:{type:"object",required:[],properties:{},"ui:order":[]}},De={viewSchema:Ie,propsSchema:V({},"array")},Fe=[{groupName:"布局组件",componentList:[{title:"Object",btnClass:"w100",componentPack:Te},{title:"Array",btnClass:"w100",componentPack:De}]},{groupName:"基础组件",componentList:[{title:"输入框",componentPack:W},{title:"数字(slider)",componentPack:G},{title:"数字输入框",componentPack:R},{title:"颜色选择",componentPack:U}]},{groupName:"是否Bool",componentList:[{title:"是否(Switch)",componentPack:K},{title:"是否(Checkbox)",componentPack:X},{title:"是否(Select)",componentPack:Y},{title:"是否(Radio)",componentPack:ee}]},{groupName:"单选/多选",componentList:[{title:"单选(Radio)",componentPack:ne},{title:"单选(Select)",componentPack:ce},{title:"多选(Select)",componentPack:se},{title:"多选(Checkbox)",componentPack:ue}]},{groupName:"文件上传",componentList:[{title:"单文件",componentPack:de},{title:"多个文件",componentPack:be}]},{groupName:"时间日期",componentList:[{title:"Date(时间戳)",componentPack:ve},{title:"Date(字符串)",componentPack:Oe},{title:"DateTime(时间戳)",componentPack:we},{title:"DateTime(字符串)",componentPack:Se},{title:"Date范围(时间戳)",componentPack:Pe},{title:"Date范围(字符串)",componentPack:Ce},{title:"DateTime范围(时间戳)",componentPack:ke},{title:"DateTime范围(字符串)",componentPack:$e},{title:"Time(字符串)",componentPack:ye}]}],Le=Fe,Ne=o("2e1d"),qe=o("8bbf"),Ve=o.n(qe),Be={};Object.entries(Be).forEach((function(e){var t=Object(Ne["a"])(e,2),o=t[0],r=t[1];Ve.a.component(o,r)}));var We=o("a635"),Ae=o("655a");function Ue(e){return e.reduce((function(e,t){return[].concat(Object(Ae["a"])(e),Object(Ae["a"])(t.componentList))}),[])}var Je=function(){var e=new Map;return function(t){if(!e.has(t)){var o=Object(a["getDefaultFormState"])(t,{},t);e.set(t,o)}return e.get(t)}}();function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Object.keys(t);return o.every((function(o){return"title"===o||(!!Array.isArray(e[o])||(Object(N["c"])(e[o])&&Object(N["c"])(t[o])?Re(e[o],t[o]):e[o]===t[o]))}))}function ze(e,t){var o=t.componentPack.viewSchema;return Re(e,o)&&(!e["ui:widget"]||!!o["ui:widget"])&&(!e.format||!!o.format)}var Ge=[];function He(e,t){var o=t.find((function(t){return ze(e,t)}));if(o){var r={};if(e.$$key){var i=a["formUtils"].getUserUiOptions({schema:e}),c=Je(o.componentPack.propsSchema);r.property=e.$$key,r=["baseValue","options","rules"].reduce((function(t,o){if(c[o]){t[o]={};var r=c[o],n=r.schemaOptions,a=r.uiOptions;if(n)for(var l in t[o].schemaOptions={},n)if(n.hasOwnProperty(l)){var p=e[l];void 0!==p&&(t[o].schemaOptions[l]=p)}if(a)for(var u in t[o].uiOptions={},a)if(a.hasOwnProperty(u)){var m=i[u];void 0!==m&&(t[o].uiOptions[u]="labelWidth"===u?Object(s["b"])(m):m)}}return t}),r)}return Object(s["e"])(Object(n["a"])(Object(n["a"])({},o),{},{componentValue:r}))}return Ge.push({title:e.title,type:e.type}),null}function Ke(e,t){if(Ge.length=0,""===String(e).trim())return null;var o=Ue(t),r=JSON.parse(e),i=r.schema,c=r.formFooter,l=r.formProps,p=[i],u=[],m=function(e){return e.$$parentEditorItem&&e.$$parentEditorItem.childList||u},d=function(e){delete e.$$parentEditorItem,delete e.$$key};while(p.length>0){var f=p.shift();if(f.properties||f.items&&f.items.properties)(function(){var e=f.properties?f:f.items,t=He(f,o);m(f).push(t),d(f);var r=Object.keys(e.properties),i=a["formUtils"].orderProperties(r,f["ui:order"]),c=i.map((function(o){return Object(n["a"])(Object(n["a"])({$$parentEditorItem:t,$$key:o},e.properties[o]),{},{"ui:required":e.required&&e.required.includes(o)})}));p=[].concat(Object(Ae["a"])(p),Object(Ae["a"])(c))})();else{var b=He(f,o);b&&m(f).push(b),d(f)}}var h={};return c&&(h.formFooter=c),l&&(h.formProps=Object(n["a"])(Object(n["a"])({},l),l.labelWidth?{labelWidth:Object(s["b"])(l.labelWidth)}:{})),{componentList:u[0].childList,errorNode:Ge,formConfig:h}}Object(N["a"])(Le);var Me={name:"Editor",components:{VueJsonFrom:a["default"],EditorToolBar:w,EditorHeader:p["a"],NestedEditor:We["a"]},data:function(){return{closeToolbar:!1,loading:!1,configTools:Le,rootFormData:{},curEditorItem:null,componentList:[],FormConfSchema:u,formConfig:{},activeName:"formConfig"}},computed:{formProps:function(){return this.formConfig.formProps?Object(n["a"])(Object(n["a"])({},this.formConfig.formProps),{},{labelWidth:Object(s["d"])(this.formConfig.formProps.labelWidth)}):{}},formFooter:function(){return this.formConfig.formFooter||{}},dragOptions:function(){return{animation:300,group:"listComponentsGroup",disabled:!1,ghostClass:"ghostItem",filter:this.$style.disabled,draggable:".draggableItem",tag:"div",swapThreshold:.3}}},mounted:function(){window.document.body.classList.add("page-decorate-design")},destroyed:function(){window.document.body.classList.remove("page-decorate-design")},created:function(){var e=this;this.$on("onSetCurEditorItem",(function(t){var o=t.editorItem;e.activeName=o?"compConfig":"formConfig",e.curEditorItem=o}))},methods:{getExportCode:function(){var e=this.formFooter,t=this.formProps,o={formFooter:{show:!0,okBtn:"保存",cancelBtn:"取消"},formProps:{inline:!1,inlineFooter:!1,layoutColumn:1,labelPosition:"top"}},r=function(e,t){return Object.keys(e).reduce((function(o,r){return e[r]!==t[r]&&(o[r]=e[r]),o}),{})};return{schema:Object(s["a"])(this.componentList),uiSchema:{},formFooter:r(e,o.formFooter),formProps:r(t,o.formProps)}},handlePreview:function(){var e=this,t=this.getExportCode(),o=Object(c["a"])({VueComponent:a["default"],dialogProps:{title:"预览展示",width:"1000px"},componentProps:Object(n["a"])({value:{}},t),componentListeners:{toDemo:function(){e.handleToDemo()},"on-cancel":function(){o.close()},"on-submit":function(e){alert(JSON.stringify(e,null,2))}}})},handleImportSchema:function(){var e=this,t=Object(c["a"])({VueComponent:L,dialogProps:{title:"导入Schema",width:"1000px"},componentListeners:{onImport:function(o){try{var r=Ke(o,e.configTools);if(!r)return e.$message.warning("请先输入导入Schema");var i=r.errorNode,n=r.componentList,a=r.formConfig;return e.componentList=n,a.formProps&&Object.assign(e.formConfig.formProps,a.formProps),a.formFooter&&Object.assign(e.formConfig.formFooter,a.formFooter),t.close(),i.length>0&&Array.isArray(i)?e.$msgbox({title:"如下节点导入失败，请检查数据",message:e.$createElement("div",{style:{padding:"10px 0"}},i.map((function(t){return e.$createElement("pre",null,JSON.stringify(t,null,4))})))}):void 0}catch(c){throw e.$alert(c.message,"导入失败，详细查看控制台"),c}}}})},handleExportSchema:function(){var e=this;Object(c["a"])({VueComponent:$,dialogProps:{title:"导出Schema",width:"1000px"},componentProps:{genCode:this.getExportCode()},componentListeners:{toDemo:function(){e.handleToDemo()}}})},handleToDemo:function(){var e=this.getExportCode(),t=Object.keys(e).reduce((function(t,o){return t.push("".concat(o,"=").concat(encodeURIComponent(JSON.stringify(e[o])))),t}),[]).join("&"),o="/index.html#/demo?type=Test&".concat(t);Object(l["b"])(o,"_specialViewForm")}}},Xe=Me,Ze=(o("83ea"),o("91ea"));function Ye(e){this["$style"]=Ze["default"].locals||Ze["default"]}var Qe=Object(v["a"])(Xe,r,i,!1,Ye,null,null);t["default"]=Qe.exports},a635:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("draggable",e._b({ref:"draggable",class:[e.$style.dragArea,e.$style.formItemWrap],attrs:{list:e.childComponentList},on:{change:e.handleDragChange}},"draggable",e.dragOptions,!1),[e._l(e.childComponentList,(function(t){var r;return o("div",{key:t.id,class:(r={draggableItem:!0,w100:e.showNestedEditor(t)},r[e.$style.formItem]=!0,r),style:t.componentValue.baseValue.uiOptions.width?{width:t.componentValue.baseValue.uiOptions.width,flexBasis:t.componentValue.baseValue.uiOptions.width}:{}},[o("ViewComponentWrap",{attrs:{"form-data":e.formData,"editor-item":t,"drag-options":e.dragOptions,"show-nested-editor":e.showNestedEditor,"form-props":e.formProps},on:{onOperate:e.handleItemOperate}})],1)})),o("template",{slot:"footer"},[e._t("default")],2)],2)},i=[],n=o("b0c0"),a=o("b8ca"),c=o.n(a),l=o("ea92"),p=o("4a6f"),s=function(){return o.e("chunk-18130556").then(o.bind(null,"e517"))},u={name:"NestedEditor",components:{Draggable:c.a,ViewComponentWrap:s},props:{dragOptions:{type:Object,default:function(){return{}}},formData:{type:Object,default:function(){return{}}},childComponentList:{type:Array,default:function(){return[]}},formProps:{type:null,default:null}},watch:{childComponentList:function(){this.computedComponentToolBarStatus()}},created:function(){},methods:{showNestedEditor:function(e){return e.childList&&!e.componentPack.viewSchema.format},handleDragChange:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];console.log(t)},computedComponentToolBarStatus:function(){var e=this;this.childComponentList.forEach((function(t,o){Object.assign(t.toolBar,{moveUpDisabled:0===o,moveDownDisabled:o===e.childComponentList.length-1,removeDisabled:t.additional&&t.additional.unRemove})}))},handleItemOperate:function(e){var t=e.item,o=e.command,r={moveUp:function(e,t){return l["b"](e,t)},moveDown:function(e,t){return l["a"](e,t)},copy:function(e,t){t.componentValue;var o=Object(n["a"])(t,["componentValue"]);return e.splice(e.indexOf(t)+1,0,Object(p["e"])(o))},remove:function(e,t){return l["c"](e,t)}},i=r[o];i?i.apply(this,[this.childComponentList,t]):this.$message.error("系统错误 - 未知的操作：[".concat(o,"]"))}}},m=u,d=o("01fc"),f=o("2be6");function b(e){this["$style"]=d["default"].locals||d["default"]}var h=Object(f["a"])(m,r,i,!1,b,null,null);t["a"]=h.exports},c6f5:function(e,t,o){"use strict";var r=o("38f0"),i=o.n(r);t["default"]=i.a},de3f:function(e,t,o){},f8b2:function(e,t,o){"use strict";o.d(t,"c",(function(){return i})),o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return a}));var r=o("507c");function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function a(e){var t=Object.getOwnPropertyNames(e);return t.forEach((function(t){var o=e[t];"object"===Object(r["a"])(o)&&null!==o&&a(o)})),Object.freeze(e)}}}]);